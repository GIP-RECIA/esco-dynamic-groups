<?xml version="1.0"?>


<project name="DEVEL - ESCO-DynammicGroups" default="esco-dg.weaving" basedir=".">
    <description>PAGS Groups for Grouper</description>
    <import file="build.xml"/>
	<property file="build.devel.properties" />
 
 	<target name="_esco.dg.display">
 		<echo>
 			esco-dg.deploy.dir  =               ${esco-dg.deploy.dir}
 		</echo>
 	</target>
 
	
	<target name="_esco-dg.clean" 
		description="Try to remove the original jar of the grouper api and previous jar">
		<delete>
			<fileset dir="${esco-dg.deploy.dir}/WEB-INF/lib/" casesensitive="yes">
				<include name="grouper*.jar"/>
			  	<exclude name="grouper-lib*.jar"/>
			</fileset>			
		</delete>
	</target>

  	<target name="_esco-dg.deploy" 
  		description="Deploy grouper with dynamic groups support."
	 	depends="esco-dg.grouper-dg.jar, _esco-dg.clean">
  		<copy todir="${esco-dg.deploy.dir}/WEB-INF/lib/" file="${esco-dg.dist.dir}${esco-dg.grouper-dg.lib}" >
			<fileset dir="${esco-dg.lib.dir}" casesensitive="yes">
			   <include name="aspectwerkz*.jar"/>
			   <include name="trove*.jar"/>
			   <include name="dom4j*.jar"/>
			</fileset>
  		</copy>
  		<copy tofile="${esco-dg.deploy.dir}/WEB-INF/aop.xml" file="${esco-dg.aspectwerkz.aop.def}"/>
  	</target>
 </project>
 